@if (!loading && profile) {
<div class="profile-card">

  <div class="avatar-wrapper">
    <img 
      [src]="profile.profilePictureUrl || '/assets/default-avatar.png'" 
      class="avatar"
      alt="Profile Picture"
    />

    <!-- زر رفع الصورة -->
    <label class="upload-btn">
      <i class="bi bi-camera-fill"></i>
      <input type="file" accept="image/*" hidden (change)="onImageSelected($event)">
    </label>
  </div>

  <h2 class="username">{{ profile.name }}</h2>
  <p class="muted">{{ profile.userName }}</p>

  <div class="info-list">

    @if (profile.universityName) {
      <div class="info-item">
        <i class="bi bi-building"></i>
        <span>{{ profile.universityName }}</span>
      </div>
    }

    @if (profile.collegeName) {
      <div class="info-item">
        <i class="bi bi-mortarboard"></i>
        <span>{{ profile.collegeName }}</span>
      </div>
    }

    @if (profile.gradeLevelName) {
      <div class="info-item">
        <i class="bi bi-layers"></i>
        <span>{{ profile.gradeLevelName }}</span>
      </div>
    }

    @if (profile.termName) {
      <div class="info-item">
        <i class="bi bi-calendar-event"></i>
        <span>{{ profile.termName }}</span>
      </div>
    }

    <div class="counter-box">
      <div>
        <strong>{{ profile.lectureCount }}</strong>
        <span>Lectures</span>
      </div>
      <div>
        <strong>{{ profile.chapterCount }}</strong>
        <span>Chapters</span>
      </div>
      <div>
        <strong>{{ profile.courseJoinCount }}</strong>
        <span>Courses</span>
      </div>
    </div>

  </div>
</div>
}
