@if (isLoading) {
  <div class="loading">Loading student quizzes...</div>
} @else if (studentLectures?.length) {
  <div class="lectures-container">
    @for (lecture of studentLectures; track lecture) {
      <div class="lecture-card">
        <h2 class="lecture-title">
          ðŸŽ“ {{ lecture.title }}
        </h2>

        @if (lecture.quizzes?.length) {
          <div class="quiz-list">
            @for (quiz of lecture.quizzes; track quiz) {
              <div class="quiz-card">
                <h3 class="quiz-title">{{ quiz.title }}</h3>
                @if (quiz.questions?.length) {
                  <div class="questions">
                    @for (question of quiz.questions; track question) {
                      <div class="question-block">
                        <p class="question-title">
                          <strong>Q:</strong> {{ question.title }} 
                          <span class="score">{{ question.score }} </span>
                        </p>
                        <p class="question-type">Type: {{ question.questionTypeName }}</p>

                        <ul class="answers">
                          @for (answer of question.answers; track answer) {
                            <li [class.correct]="answer.isCorrect">
                              {{ answer.answer }}
                              @if (answer.isCorrect) {
                                <span class="checkmark">âœ”</span>
                              }
                            </li>
                          }
                        </ul>
                      </div>
                    }
                  </div>
                } @else {
                  <p class="muted">No questions found for this quiz.</p>
                }
              </div>
            }
          </div>
        } @else {
          <p class="muted">No quizzes found for this lecture.</p>
        }
      </div>
    }
  </div>
} @else {
  <p class="muted">No data found for this student in this course.</p>
}
